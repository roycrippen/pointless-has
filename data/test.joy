(* user library functions *)


DEFINE prime-facts == 2 [] rollup go-pf stack ;
DEFINE go-pf == [dup2 >=] 
                       [ 
                         [dup2 % 0 =] 
                         [rolldown dup2 cons swap pop rollup / 2 go-pf] 
                         [succ go-pf]
                         ifte 
                       ]    
                       [pop pop reverse]
                       ifte ;


# 600851475143 prime-facts .
# 100 fib dup .

# 10 10 * .
# pop .

newstack [ 2 2 + ] [ true ] [ 1 1 + ] [] ifte stack .





